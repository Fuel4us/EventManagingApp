@startuml  analysis2.png
skinparam handwritten true
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor User
boundary HomeView
control HomePresenter
control HomeServices
entity WorkbookDescriptionRepository
entity WorkbookDescription
database Database 

box "NSheets Client"
participant HomeView
participant HomePresenter 
end box

box "Server"
participant HomeServices
participant WorkbookDescriptionRepository
participant WorkbookDescription
end box

box "Database"
participant Database
end box

User -> HomeView : click new workbook
HomeView -> HomePresenter : onClick()
HomePresenter ->> HomeServices : newWorkbookDescription
create WorkbookDescription
HomeServices -> WorkbookDescription : wd = new
HomeServices -> WorkbookDescriptionRepository : save(wb)
WorkbookDescriptionRepository -> Database : write
HomeServices ->> HomePresenter : onSuccess() 
HomePresenter -> HomeView : setContents()

@enduml